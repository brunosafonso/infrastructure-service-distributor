# Client cache.
# Expires defaults.
<IfModule expires_module>
	ExpiresActive On
	# Set default expires to 0 days
	ExpiresDefault "access plus 0 seconds"
	ExpiresByType text/css "access plus 2 months"
	ExpiresByType application/x-javascript "access plus 2 months"
	ExpiresByType application/javascript "access plus 2 months"
	ExpiresByType text/x-component "access plus 2 months"
	ExpiresByType text/html "access plus 0 seconds"
	ExpiresByType text/richtext "access plus 15 minutes"
	ExpiresByType image/svg+xml "access plus 15 minutes"
	ExpiresByType text/plain "access plus 15 minutes"
	ExpiresByType text/xsd "access plus 15 minutes"
	ExpiresByType text/xsl "access plus 15 minutes"
	ExpiresByType text/xml "access plus 15 minutes"
	ExpiresByType video/asf "access plus 2 months"
	ExpiresByType video/avi "access plus 2 months"
	ExpiresByType image/bmp "access plus 2 months"
	ExpiresByType application/java "access plus 2 months"
	ExpiresByType video/divx "access plus 2 months"
	ExpiresByType application/msword "access plus 2 months"
	ExpiresByType application/vnd.ms-fontobject "access plus 2 months"
	ExpiresByType application/x-msdownload "access plus 2 months"
	ExpiresByType image/gif "access plus 2 months"
	ExpiresByType application/x-gzip "access plus 2 months"
	ExpiresByType image/x-icon "access plus 2 months"
	ExpiresByType image/jpeg "access plus 2 months"
	ExpiresByType application/vnd.ms-access "access plus 2 months"
	ExpiresByType audio/midi "access plus 2 months"
	ExpiresByType video/quicktime "access plus 2 months"
	ExpiresByType audio/mpeg "access plus 2 months"
	ExpiresByType video/mp4 "access plus 2 months"
	ExpiresByType video/mpeg "access plus 2 months"
	ExpiresByType application/vnd.ms-project "access plus 2 months"
	ExpiresByType application/x-font-otf "access plus 2 months"
	ExpiresByType application/vnd.oasis.opendocument.database "access plus 2 months"
	ExpiresByType application/vnd.oasis.opendocument.chart "access plus 2 months"
	ExpiresByType application/vnd.oasis.opendocument.formula "access plus 2 months"
	ExpiresByType application/vnd.oasis.opendocument.graphics "access plus 2 months"
	ExpiresByType application/vnd.oasis.opendocument.presentation "access plus 2 months"
	ExpiresByType application/vnd.oasis.opendocument.spreadsheet "access plus 2 months"
	ExpiresByType application/vnd.oasis.opendocument.text "access plus 2 months"
	ExpiresByType audio/ogg "access plus 2 months"
	ExpiresByType application/pdf "access plus 2 months"
	ExpiresByType image/png "access plus 2 months"
	ExpiresByType application/vnd.ms-powerpoint "access plus 2 months"
	ExpiresByType audio/x-realaudio "access plus 2 months"
	ExpiresByType image/svg+xml "access plus 2 months"
	ExpiresByType application/x-shockwave-flash "access plus 2 months"
	ExpiresByType application/x-tar "access plus 2 months"
	ExpiresByType image/tiff "access plus 2 months"
	ExpiresByType application/x-font-ttf "access plus 2 months"
	ExpiresByType audio/wav "access plus 2 months"
	ExpiresByType audio/wma "access plus 2 months"
	ExpiresByType application/vnd.ms-write "access plus 2 months"
	ExpiresByType application/vnd.ms-excel "access plus 2 months"
	ExpiresByType application/zip "access plus 2 months"
</IfModule>

# No caching for dynamic files.
<filesMatch "\.(php|cgi|pl|htm|html|xml|txt|pdf)$">
	ExpiresDefault "access plus 0 seconds"
	Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
	Header set Pragma "no-cache"
</filesMatch>

# 1 month cache.
<filesMatch "\.(ico|flv|jpg|jpeg|png|gif|swf|js|css)$">
	ExpiresDefault "access plus 1 month"
	Header set Cache-Control "max-age=4838400, must-revalidate"
</filesMatch>



# Proxy cache.
# If mod_cache is available.
<IfModule cache_module>
	# If mod_cache_disk is avaiable.
    <IfModule cache_disk_module>
    	# Configures the cache to disk.
        CacheRoot			/var/cache/apache/
		CacheEnable			disk					/
        CacheDirLevels		2
        CacheDirLength		1
    </IfModule>
	# Enables the cache lock.    
    CacheLock				On
    CacheLockPath			/tmp/mod_cache-lock
    CacheLockMaxAge			5
	# Disables the quick handler.
    CacheQuickHandler		Off
    # Sets default cache expiration to 2 hours.
    CacheDefaultExpire		7200
	# Enables the cache header.
	CacheHeader				On
	# Infers the last modification date if not given.	
	CacheIgnoreNoLastMod	On
	CacheLastModifiedFactor	0.2
</IfModule>


